<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head th:fragment="head">
	<meta charset="UTF-8">
	<title th:text="${titulo} + ' & By Bertomeu'"></title>
	<!-- CSS only -->
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/css/jquery-ui.min.css}">
	<link rel="stylesheet" th:href="@{/bootstrap-icons/font/bootstrap-icons.css}">
</head>

<body>
	<header th:fragment="header" style="height: 80px">
<!-- 		<nav class="navbar navbar-expand-lg bg-dark navbar-dark" > -->
		<nav class="navbar navbar-expand-lg fixed-top" style="background-color: #166FAB; height: inherit" >
			<div class="container-fluid">
				<a class="navbar-brand text-white" href="#"> 
					<strong class="fs-3 col-1">
						<i class="bi bi-calendar4-event" ></i> Work Schedule						
					</strong>
				</a>
				<button class="navbar-toggler" type="button"
					data-bs-toggle="collapse" data-bs-target="#navbarNav"
					aria-controls="navbarNav" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav">
						<li class="nav-item"><a class="nav-link text-white mt-2"
							th:href="@{/app/listar}">Usuarios</a></li>

						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle text-white mt-2" href="#" id="requerimientosDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Requerimientos</a>
							<ul class="dropdown-menu" aria-labelledby="requerimientosDropdown">
								<li><a class="dropdown-item" th:href="@{/requerimientos/listar-requerimientos}">Ver requerimientos</a></li>
								<li><a class="dropdown-item" th:href="@{/requerimientos/alta-requerimientos}">Alta de requerimientos</a></li>
							</ul>
						</li>

						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle active text-white mt-2" href="#" id="planificacionDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Planificaci√≥n</a>
							<ul class="dropdown-menu" aria-labelledby="planificacionDropdown">
								<li><a class="dropdown-item" th:href="@{/planificacion/lista}">Planificar horas</a></li>
								<li><a class="dropdown-item" th:href="@{/planificacion/resumen-requerimientos}">Resumen de requerimientos</a></li>
								<li><a class="dropdown-item" th:href="@{/planificacion/vacaciones}">Vacaciones</a></li>
							</ul>
						</li>
					</ul>
					<ul class="navbar-nav flex-row flex-wrap ms-md-auto">
						<li sec:authorize="!isAuthenticated()" class="nav-item col-6 col-lg-auto">
							<a class="btn btn-outline-light" th:href="@{/login}">Sign In</a>
						</li>
						
						<li class="btn-group dropstart" sec:authorize="isAuthenticated()">
							<button type="button" class="btn btn-outline-light dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
								<span sec:authentication="name"></span>
							</button>
							<ul class="dropdown-menu dropdown-menu-dark">
								<form th:action="@{/logout}" method="post" id="logoutForm">
							    	<button class="dropdown-item" onclick="document.getElementById('logoutForm').submit();" type="submit">Sign Out</button>
							    </form>
							    <a class="dropdown-item" th:href="@{/app/ver/} + ${#authentication.getPrincipal().getUsername()}">Ver Perfil</a>
							</ul>
						</li>
						
					</ul>
				</div>
			</div>
		</nav>
		
		<div style="padding-top: 4.2rem !important;">
			<div class="alert alert-success" th:if="${success != null}" th:text="${success}" id="alerta"></div>
			<div class="alert alert-danger" th:if="${error != null}" th:text="${error}" id="alerta"></div>
			<div class="alert alert-warning" th:if="${warning != null}" th:text="${warning}" id="alerta"></div>
			<div class="alert alert-info" th:if="${info != null}" th:text="${info}" id="alerta"></div>
			
			<div class="alert alert-danger" th:if="${errores != null && errores.containsKey('descripcion') }" th:text="${errores.descripcion}" id="alerta"></div>
			<div class="alert alert-info"   th:if="${informar != null && informar.containsKey('descripcion') }" th:text="${informar.descripcion}" id="alerta"></div>
		
		</div>
		
	</header>

	<div class="container"></div>

	<footer th:fragment="footer" class="w-100 text-white fixed-bottom " style="background-color: #166FAB; height: 80px">
<!-- 		<img th:src="@{/images/spring.png}" alt="Spring logo" /> -->
		<div class="d-flex justify-content-center gap-5 align-items-center h-100 ">
			<div class="fs-3 text-center">
				<i class="bi bi-calendar4-event" ></i> Work Schedule
			</div>
			
			<p sec:authorize="isAuthenticated()">
			Usuario: <span sec:authentication="name"></span> || Roles: <span sec:authentication="principal.authorities"></span>
			</p>
		</div>
		
		<!-- JavaScript Bundle with Popper -->
		<script	th:src="@{/js/bootstrap.bundle.min.js}"></script>
		<!-- jQuery -->
		<script	th:src="@{/js/jquery-3.6.0.min.js}"></script>
		<!-- jQuery UI -->
		<script	th:src="@{/js/jquery-ui.min.js}"></script>
		
		<script type="text/javascript">
	        setTimeout(function () {
	  
	            // Closing the alert
	            $('#alerta').alert('close');
	        }, 3000);
		</script>
		
	</footer>


</body>
</html>